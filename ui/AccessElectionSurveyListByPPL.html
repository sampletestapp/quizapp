﻿    <title>asfdsdfsd News</title>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta http-equiv="CACHE-CONTROL" content="NO-CACHE">

<link href="/_common/styles/fonts.css.aspx?lcid=1033" rel="Stylesheet">
<link href="/WebResources/edm_css/jqueryui.css" rel="Stylesheet">
<link href="/WebResources/edm_css/grid.css" rel="Stylesheet">
<link rel="stylesheet" href="/WebResources/edm_css/AccessElectionsStyle.css">

<script src="../ClientGlobalContext.js.aspx" type="text/javascript"></script>
<script src="/_static/_common/scripts/jquery1.7.2.min.js" type="text/javascript"></script>

<script src="/WebResources/edm_js/lib/jquery_3.3.1.min.js" type="text/javascript" language="javascript"></script>
<script src="/WebResources/edm_js/lib/jquery_ui_1.10.4.min.js" type="text/javascript" language="javascript"></script>
<script src="/WebResources/edm_js/lib/Grid.js" type="text/javascript" language="javascript"></script>
<script src="/WebResources/edm_js/lib/SDK.REST.js" type="text/javascript" language="javascript"></script>
<script src="/WebResources/edm_js/lib/CrmFetchKit.js" type="text/javascript" language="javascript"></script>
<script src="/WebResources/edm_js/CommonOperations.js" type="text/javascript" language="javascript"></script>
<style type="text/css">

    /* set the size of the datepicker search control for Order Date*/
    #ui-datepicker-div {
        font-size: 11px;
    }

    /* set the size of the autocomplete search control*/
    .ui-menu-item {
        font-size: 11px;
    }

    .ui-autocomplete {
        font-size: 11px;
    }

    .ui-jqgrid tr.jqgrow td {
        font-size: 0.9em
    }

    .areaTitle {
        cursor: default;
        font-family: Segoe UI;
        font-size: 20px;
        color: #505050;
        padding: 2px 0px 2px 0px;
        vertical-align: top;
        text-align: left;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    h2 {
        display: block;
        font-size: 1.5em;
        margin-block-start: 0.83em;
        margin-block-end: 0.83em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
    }
</style>
<script type="text/javascript">
    var gridArrayData = [];
    function poponload()
    {
        testwindow = window.open("", "mywindow", "location=1,status=1,scrollbars=1,width='40%',height='40%'");
        testwindow.moveTo(0, 0);
    }

    function popupWindow(url) {
        let w=800
        let h=600
        const y = window.top.outerHeight / 2 + window.top.screenY - ( w / 2);
        const x = window.top.outerWidth / 2 + window.top.screenX - ( h / 2);
    
    return window.open(url, 'test', `toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${w}, height=${h}, top=${y}, left=${x}`);

   }
   
   window.onunload = function(){
    window.opener.location.reload();
    };
    
    $(document).ready(function () {
        displaySurveys();
       
        });


    function displaySurveys() {
    gridArrayData = [{
          "SurveyName": "11/8/2022  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2022 General Election",
          "ElectionDate": "11/8/2022"
        }, 
      {
          "SurveyName": "8/16/2022  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2022 Partisan Primary",
          "ElectionDate": "08/16/2022"
      },
      {
          "SurveyName": "4/5/2022  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2022 Spring Election",
          "ElectionDate": "04/05/2022"
      },
      {
          "SurveyName": "02/15/2022  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2022 Spring Primary",
          "ElectionDate": "02/15/2022"
      },
      {
          "SurveyName": "04/06/2021  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2021 Spring Election",
          "ElectionDate": "04/06/2021"
      },
      {
          "SurveyName": "04/06/2021  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2021 Spring Election",
          "ElectionDate": "04/06/2021"
      },
      {
          "SurveyName": "04/06/2021  Blackhawk Church",
          "PollingPlaceName": "Blackhawk Church",
          "Jurisdiction": "City of Fitchburg - DANE County",
          "Election": "2021 Spring Election",
          "ElectionDate": "04/06/2021"
      }
      ]
        displayinGrid();
     }

     
    function mapZone(zoneId) {
        var zoneText = ""; 
        switch (zoneId) { 
            case (zoneId = 1):
                zoneText = "PARKING";
                break;
            case (zoneId = 2):
                zoneText = "PATHWAYS";
                break;
            case (zoneId = 3):
                zoneText = "ACCESSIBLE ENTERANCE";
                break;
            case (zoneId = 4):
                zoneText = "INTERIOR ROUTES";
                break;
            case (zoneId = 5):
                zoneText = "VOTING AREA";
                break;
           }
           return zoneText;
        }
     
    function displayinGrid(){
        
        $("#gridSurveyMatrix").jqGrid({
            colNames: ['Survey Name','PollingPlace Name', 'Jurisdiction', 'Election', 'Election Date'],
            colModel: [
                {
                    label: 'SurveyName', name: 'SurveyName',  align: 'center', width: 120
                },
                {
                    label: 'Polling Place Name', name: 'PollingPlaceName', align: 'center', width: 80
                },
                {
                    label: 'Jurisdiction', name: 'Jurisdiction', align: 'center', width: 120
                },
                {
                    label: 'Election', name: 'Election', align: 'center', width: 100
                },
                {
                    label: 'Election Date', name: 'ElectionDate', align: 'center', width: 50, sorttype: 'date'
                }
            ],
            autoencode: true,
            height: 'auto',
            maxheight: 1500,
            width: 1500,
            autowidth: false,
            datatype: 'local',
            viewrecords: true,
            sortname:"ElectionDate",
            sortorder: "desc",
            loadtext: "Loading...",
            pager: "#gridSurveyMatrixpager",
            rowNum: 5,
            rowList: [25, 50, 75, 100, 125, 150, 175, 200],
            ondblClickRow: function () {
                var serverUrl = window.parent.Xrm.Page.context.getClientUrl() + "/WebResources/edm_html/AccessElectionsSurveyDetails.html";
                var win = window.open(serverUrl, '_blank');//,'height=500px,width=800px,resizable=yes,scrollbars=yes,status=no,top=100px, left=100px');
            }
        });

        $('#gridSurveyMatrix').jqGrid('clearGridData');
        $("#gridSurveyMatrix").jqGrid('setGridParam', { data: gridArrayData });
        // hide the show message
        $("#gridSurveyMatrix")[0].grid.endReq();
        // refresh the grid
        $("#gridSurveyMatrix").trigger('reloadGrid');
        $("#gridSurveyMatrix").focus();

        
        
        
        
        $('#gridSurveyMatrix').jqGrid('clearGridData');
        $("#gridSurveyMatrix").jqGrid('setGridParam', { data: gridArrayData });
        // hide the show message
        $("#gridSurveyMatrix")[0].grid.endReq();
        // refresh the grid
        $("#gridSurveyMatrix").trigger('reloadGrid');
        $("#gridSurveyMatrix").focus();

        //$("#gridSurveyMatrix").jqGrid('filterToolbar', { stringResult: true, searchOnEnter: true, defaultSearch: "cn", searchOperators: true });
        
        $("#gridSurveyMatrix").jqGrid('navGrid','#gridSurveyMatrix',
        {
            edit:false, edittitle: "", width: 500,
            add:false, addtitle: "", width: 500,
            del:false,
            view:false
        });
        $("#gridSurveyMatrix").jqGrid('clearGridData');
        $("#gridSurveyMatrix").jqGrid('setGridParam',
		{
			data: gridArrayData
		});
        $("#gridSurveyMatrix").trigger('reloadGrid');
		$("#gridSurveyMatrix").focus();
        
    }
       
</script>

<html>
<head>
    <meta>
    <meta>
    <meta>
</head>
<body style="overflow-wrap: break-word;">
<!--    <label style="font-size: xx-large;"><b>Access Elections Question Matrix</b></label>-->
    <div id="SurveyMatrix">
        <table id="gridSurveyMatrix"></table>
        <div id="gridSurveyMatrixPager"></div>
        </br>
<!--        <div><Button style="addQuestion" onClick="popupWindow('/WebResources/edm_html/AccessElectionsQuestion.html')";" id="NewQuestion">Create New Question</Button></div>-->
</button>
    </div>
</body>
